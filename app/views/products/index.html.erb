<%# Hero Section %>
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="display-4">Products</h1>
  <% if authenticated? %>
    <%= link_to new_product_path, class: "btn btn-primary btn-lg" do %>
      <i class="bi bi-plus-circle me-2"></i>New Product
    <% end %>
  <% end %>
</div>

<%# Products Grid %>
<% if @products.any? %>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4" id="products">
    <% @products.each do |product| %>
      <div class="col">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= product.name %></h5>
            <div class="mt-auto pt-3">
              <%= link_to "View Details", product_path(product), class: "btn btn-outline-primary btn-sm w-100 mb-2" %>

              <% if authenticated? %>
                <div class="d-flex gap-2">
                  <%= link_to "Edit", edit_product_path(product), class: "btn btn-outline-secondary btn-sm flex-fill" %>
                  <%= button_to "Delete", product_path(product), method: :delete, class: "btn btn-outline-danger btn-sm flex-fill",
                      data: { turbo_confirm: "Are you sure you want to delete this product?" } %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <%# Empty State %>
  <div class="text-center py-5">
    <i class="bi bi-inbox display-1 text-muted"></i>
    <h3 class="mt-3 text-muted">No products yet</h3>
    <p class="text-muted">Get started by creating your first product.</p>
    <% if authenticated? %>
      <%= link_to new_product_path, class: "btn btn-primary mt-2" do %>
        <i class="bi bi-plus-circle me-2"></i>Create First Product
      <% end %>
    <% end %>
  </div>
<% end %>
